<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Add / Edit / Delete Exercise</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Exercise Management</h1>

    <!-- ==================== ADD EXERCISE FORM ==================== -->
    <h2>Add New Exercise</h2>
    <form method="POST">
        <label for="exercise">Exercise:</label>
        <select name="exercise" id="exercise" required>
            <option value="">-- Select Exercise --</option>
            {% for exercise in exercises %}
                <option value="{{ exercise }}" {% if exercise == prefill_exercise %}selected{% endif %}>{{ exercise }}</option>
            {% endfor %}
        </select>

        <label for="sets">Sets:</label>
        <select name="sets" id="sets" required>
            <option value="">-- Select Sets --</option>
            {% for set in sets %}
                <option value="{{ set }}" {% if set|string == prefill_sets %}selected{% endif %}>{{ set }}</option>
            {% endfor %}
        </select>

        <label for="reps">Reps:</label>
        <select name="reps" id="reps" required>
            <option value="">-- Select Reps --</option>
            {% for rep in reps %}
                <option value="{{ rep }}" {% if rep|string == prefill_reps %}selected{% endif %}>{{ rep }}</option>
            {% endfor %}
        </select>

        <label for="weight">Weight (lbs):</label>
        <select name="weight" id="weight" required>
            <option value="">-- Select Weight --</option>
            {% for weight in weights %}
                <option value="{{ weight }}" {% if weight|string == prefill_weight %}selected{% endif %}>{{ weight }}</option>
            {% endfor %}
        </select>

        <label for="date">Date:</label>
        <input type="date" name="date" id="date" value="{{ prefill_date if prefill_date else (last_date if last_date else '') }}">

        <button type="submit" name="action" value="add">Add Exercise</button>
    </form>

    <hr>

    <!-- ==================== EDIT EXERCISE FORM ==================== -->
    <h2>Edit Existing Exercise</h2>
    <form method="POST">
        <label for="exercise">Exercise:</label>
        <select name="exercise" id="exercise" required>
            <option value="">-- Select Exercise --</option>
            {% for exercise in exercises %}
                <option value="{{ exercise }}" {% if exercise == prefill_exercise %}selected{% endif %}>{{ exercise }}</option>
            {% endfor %}
        </select>

        <label for="date">Date of Entry to Edit:</label>
        <input type="date" name="date" id="date" required value="{{ prefill_date if prefill_date else (last_date if last_date else '') }}">

        <label for="sets">New Sets:</label>
        <select name="sets" id="sets">
            <option value="">-- Optional --</option>
            {% for set in sets %}
                <option value="{{ set }}" {% if set|string == prefill_sets %}selected{% endif %}>{{ set }}</option>
            {% endfor %}
        </select>

        <label for="reps">New Reps:</label>
        <select name="reps" id="reps">
            <option value="">-- Optional --</option>
            {% for rep in reps %}
                <option value="{{ rep }}" {% if rep|string == prefill_reps %}selected{% endif %}>{{ rep }}</option>
            {% endfor %}
        </select>

        <label for="weight">New Weight (lbs):</label>
        <select name="weight" id="weight">
            <option value="">-- Optional --</option>
            {% for weight in weights %}
                <option value="{{ weight }}" {% if weight|string == prefill_weight %}selected{% endif %}>{{ weight }}</option>
            {% endfor %}
        </select>

        <button type="submit" name="action" value="edit">Edit Exercise</button>
    </form>

    <hr>

    <!-- ==================== DELETE EXERCISE FORM ==================== -->
    <h2>Delete Exercise Entry</h2>
    <form method="POST">
        <label for="delete_id">Entry ID:</label>
        <input type="number" name="id" id="delete_id" placeholder="Enter the ID number" required>

        <button type="submit" name="action" value="delete">Delete Exercise</button>
    </form>

</body>
</html>

